<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>List</title>
    <th:block th:replace="/admin/layout/head :: head" />
</head>
<body class="animsition">
<div class="page-wrapper">
    <!-- HEADER MOBILE-->
    <th:block th:replace="/admin/layout/header_mobile :: header_mobile" />

    <!-- MENU SIDEBAR-->
    <th:block th:replace="/admin/layout/sidebar :: sidebar" />

    <!-- PAGE CONTAINER-->
    <div class="page-container">
        <!-- HEADER DESKTOP-->
        <th:block th:replace="/admin/layout/header_desktop :: header_desktop" />
        <!-- HEADER DESKTOP-->

        <!-- MAIN CONTENT-->
        <div class="main-content">
            <div class="section__content section__content--p30">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-6">
                            <h1>Edit book</h1>
                        </div>
                        <div class="col-6">
                            <a href="/books">
                                <button type="button" class="btn btn-danger">Book List</button>
                            </a>
                        </div>
                    </div>
                    <hr>
                    <th:block th:if="${bookDTO}">

                        <form class="book-form" th:object="${bookDTO}" method="post" >
                            <h3>Update Book Information</h3>
                            <div class="row">
                                <div class="col-9">
                                    <label for="name" class="form-label">Previous Name: ${bookDTO.getName()}</label>
                                    <input type="text" class="form-control" id="name" name="name" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3">
                                    <label class="form-label">Previous Author: ${bookDTO.getAuthor()}</label>
                                    <select class="form-control" th:field="*{author}">
                                        <option th:each="author : ${authorList}"
                                                th:value="${author.id}"
                                                th:utext="${author.name}">
                                        </option>
                                    </select>
                                </div>
                                <div class="col-3">
                                    <label class="form-label">Previous Genre: ${bookDTO.getGenre()}</label>
                                    <select class="form-control" th:field="*{genre}">
                                        <option th:each="genre : ${genreList}"
                                                th:value="${genre.id}"
                                                th:utext="${genre.name}">
                                        </option>
                                    </select>
                                </div>
                                <div class="col-3">
                                    <label class="form-label">Previous Publisher: ${bookDTO.getPublisher()}</label>
                                    <select class="form-control" th:field="*{publisher}">
                                        <option th:each="publisher : ${publisherList}"
                                                th:value="${publisher.id}"
                                                th:utext="${publisher.name}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <button type="submit" class="btn btn-outline-primary">Save</button>
                            </div>
                        </form>


                        <form method="post" class="book-form">
                            <h3>Add more Book Quantity</h3>
                            <div class="row">
                                <div class="col-3">
                                    <label for="quantity" class="form-label">Previous Quantity: ${bookDTO.getQuantity()}</label>
                                    <input type="number" class="form-control" id="quantity" name="quantity" required>
                                </div>
                            </div>
                            <div class="row">
                                <button type="submit" class="btn btn-outline-primary">Save</button>
                            </div>
                        </form>
                    </th:block>

<!--                    <div class="footer">-->
<!--                        <c:if test="${requestScope['success'] != null}">-->
<!--                            <ul class="success">-->
<!--                                <li>${requestScope['success']}</li>-->
<!--                            </ul>-->
<!--                        </c:if>-->
<!--                        <c:if test="${!requestScope['errors'].isEmpty()}">-->
<!--                            <ul class="error">-->
<!--                                <c:forEach items="${requestScope['errors']}" var="item">-->
<!--                                    <li>${item}</li>-->
<!--                                </c:forEach>-->
<!--                            </ul>-->
<!--                        </c:if>-->
<!--                        <c:if test="${!requestScope['errorsId'].isEmpty()}">-->
<!--                            <ul class="error">-->
<!--                                <c:forEach items="${requestScope['errorsId']}" var="item">-->
<!--                                    <li>${item}</li>-->
<!--                                </c:forEach>-->
<!--                            </ul>-->
<!--                        </c:if>-->
<!--                    </div>-->
                </div>
            </div>
        </div>
        <!-- END MAIN CONTENT-->
        <!-- END PAGE CONTAINER-->
    </div>
</div>
<!-- js -->
<th:block th:replace="/admin/layout/script :: js" />

</body>
</html>